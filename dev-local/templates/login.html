<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MSLSX Login</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 20px;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 30px;
    }

    .warning-section {
      padding: 20px;
      margin: 20px 0;
      display: flex;
      gap: 20px;
      align-items: center;
      border: 1px solid #ccc;
    }

    .warning-icon {
      flex-shrink: 0;
      width: 80px;
      height: 80px;
    }

    .user-select-section {
      padding: 20px;
      margin: 20px 0;
      border: 1px solid #ccc;
    }

    .form-group {
      margin-bottom: 15px;
    }

    label {
      display: block;
      margin-bottom: 5px;
    }

    input[type="text"],
    input[type="email"],
    select {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
    }

    select {
      cursor: pointer;
    }

    button[type="submit"] {
      padding: 10px 24px;
      cursor: pointer;
    }

    .manual-entry-section {
      margin-top: 20px;
    }

    .field-group {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-top: 15px;
    }

    @media (max-width: 600px) {
      .field-group {
        grid-template-columns: 1fr;
      }
      
      .warning-section {
        flex-direction: column;
      }
    }
  </style>
  <link rel="shortcut icon" href="#">
</head>
<body>
  <div class="container">
    <h1>MSLSX Component Inputs for simulating SLSX/MyMedicare auth flow locally</h1>
    
    <div class="warning-section">
      <img class="warning-icon" alt="BB2 Local Dev Warning"
        src="data:image/png;base64,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">
      <div class="warning-text">
        <h2>Simulated Authentication (no PHI or PII)</h2>
        <h2>Use Only Synthetic Beneficiary Info</h2>
        <h3>V3 Users Only Work in SANDBOX</h3>
        <p><strong>Enter values to be returned by the SLSX user_info endpoint below</strong></p>
      </div>
    </div>

    <form method="post" action="/login/">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

      <div class="user-select-section">
        <h3>Quick Select User (Optional):</h3>
        <div class="form-group">
          <label for="userSelect">Select a pre-configured test user:</label>
          <select id="userSelect">
            <option value="">-- Select a user or enter manually below --</option>
            {% for user in users %}
            <option value='{{ user | tojson }}'>{{ user.username }} - {{ user.first_name }}</option>
            {% endfor %}
          </select>
        </div>
      </div>

      <div class="manual-entry-section">
        <h3>Manual Entry:</h3>
        
        <div class="form-group">
          <label for="username">Username (SUB):</label>
          <input type="text" id="username" name="username" placeholder="e.g., testuser1">
        </div>

        <div class="field-group">
          <div class="form-group">
            <label for="hicn">HICN:</label>
            <input type="text" id="hicn" name="hicn" placeholder="e.g., 1234567890A">
          </div>

          <div class="form-group">
            <label for="mbi">MBI:</label>
            <input type="text" id="mbi" name="mbi" placeholder="e.g., 1EG4TE5MK73">
          </div>
        </div>

        <div class="form-group">
          <label for="name">Display Name:</label>
          <input type="text" id="name" name="name" placeholder="e.g., Test User One">
        </div>

        <div class="field-group">
          <div class="form-group">
            <label for="first_name">First Name:</label>
            <input type="text" id="first_name" name="first_name" placeholder="e.g., Test">
          </div>

          <div class="form-group">
            <label for="last_name">Last Name:</label>
            <input type="text" id="last_name" name="last_name" placeholder="e.g., UserOne">
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" placeholder="e.g., testuser1@example.com">
        </div>

        <input type="hidden" name="relay" value="{{ relay }}">
        <input type="hidden" name="redirect_uri" value="{{ redirect_uri }}">
        
        <button type="submit">Sign In</button>
      </div>
    </form>
  </div>

  <script>
    // Populate form when user is selected from dropdown
    document.getElementById('userSelect').addEventListener('change', function (e) {
      if (e.target.value) {
        try {
          const user = JSON.parse(e.target.value);
          document.getElementById('username').value = user.username || '';
          document.getElementById('hicn').value = user.hicn || '';
          document.getElementById('mbi').value = user.mbi || '';
          document.getElementById('name').value = user.name || '';
          document.getElementById('first_name').value = user.first_name || '';
          document.getElementById('last_name').value = user.last_name || '';
          document.getElementById('email').value = user.email || '';
        } catch (err) {
          console.error('Error parsing user data:', err);
        }
      } else {
        // Clear all fields when "-- Select a user --" is chosen
        document.getElementById('username').value = '';
        document.getElementById('hicn').value = '';
        document.getElementById('mbi').value = '';
        document.getElementById('name').value = '';
        document.getElementById('first_name').value = '';
        document.getElementById('last_name').value = '';
        document.getElementById('email').value = '';
      }
    });
  </script>
</body>
</html>