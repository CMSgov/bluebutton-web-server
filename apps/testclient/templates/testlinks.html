{% load i18n %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	<title>{{ settings.APPLICATION_TITLE }} Test Client</title>
    <meta name="author" content="Alan Viars">
    <!-- FavIcons generated by http://realfavicongenerator.net -->
   <link href="{% static 'img/favicon/favicon.ico' %}" rel="shortcut icon" type="image/x-icon" />
   <link rel="apple-touch-icon" sizes="180x180" href="{% static 'img/favicon/apple-touch-icon.png' %}">
   <link rel="icon" type="image/png" href="{% static 'img/favicon/favicon-32x32.png" sizes="32x32' %}">
   <link rel="icon" type="image/png" href="{% static 'img/favicon/favicon-16x16.png" sizes="16x16' %}">
   <link rel="manifest" href="{% static 'img/favicon/manifest.json' %}">
   <link rel="mask-icon" href="{% static 'img/favicon/safari-pinned-tab.svg' %}" color="#155eeb">
   <link rel="shortcut icon" href="{% static 'img/favicon/favicon.ico' %}">
   <meta name="msapplication-config" content="{% static 'img/favicon/browserconfig.xml' %}">
   <link rel="stylesheet" href="{% static 'design-system/packages/core/dist/index.css' %}" />
  <link rel="stylesheet" href="{% static 'design-system/style.css' %}">
  
		<style media="screen" type="text/css">
		body{
			margin-left: 20px;
			margin-top: 40px;
			}
		</style>
		 
</head>



<body class="ds-base">
 <h1>API Test Page</h1>

{% if user.is_authenticated %}<p><b>IMPORTANT:</b>  It looks like you may be logged in to your Sandbox Developer Account.
       Being logged into your Developer Account when using this Test Client triggers a 500 error.</p>
 <p><a href="{% url 'logout' %}">Logout</a> now.</p>{% endif %}

 <p>These calls require a token to be attached to your session.  The
test redirect_uri callback function {% url 'testclient-callback' %} will do this for you.<br/>
 Use this <a href="{% url 'authorize_link' %}">sample Authorization flow</a> to set the token, then come back here to make the calls.
 Calls requiring an access token will fail unless the above step is completed.
 </p>
     <h1>API Calls</h1>
     <ul>

     <li> <a target="_blank" href="{% url 'test_eob' %}">ExplanationOfBenefit</a> </li>
     <li> <a target="_blank" href="{% url 'test_patient' %}">Patient</a> </li>
     <li> <a target="_blank" href="{% url 'test_coverage' %}">Coverage</a> </li>
     <li> <a target="_blank" href="{% url 'test_userinfo' %}">Profile </a> (OIDC Userinfo)</li>
     <li> <a target="_blank" href="{% url 'test_eob_v2' %}">ExplanationOfBenefit V2</a> </li>
     <li> <a target="_blank" href="{% url 'test_patient_v2' %}">Patient V2</a> </li>
     <li> <a target="_blank" href="{% url 'test_coverage_v2' %}">Coverage V2</a> </li>
     <li> <a target="_blank" href="{% url 'test_userinfo_v2' %}">Profile V2</a> (OIDC Userinfo)</li>
     <li> <a target="_blank" href="{% url 'fhir_conformance_metadata' %}?format=json">FHIR Metadata </a>(No Token Needed) </li>
     <li> <a target="_blank" href="{% url 'openid-configuration' %}">OIDC Discovery </a>(No Token Needed) </li>
     </ul>
    {% if not request.user.is_authenticated %}
      <h2><a href="{% url 'login' %}">Login to the developer portal</a> </h1>
     {% endif %}
    
</body>

</html>
